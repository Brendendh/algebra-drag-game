{"firstLayout":"","gdVersion":{"build":99,"major":4,"minor":0,"revision":0},"properties":{"adaptGameResolutionAtRuntime":true,"folderProject":true,"orientation":"landscape","packageName":"com.draganddrop.game","pixelsRounding":false,"projectUuid":"52d65a29-354d-4118-9d7b-ffe00c48310e","scaleMode":"linear","sizeOnStartupMode":"adaptWidth","useExternalSourceFiles":false,"version":"1.0.0","name":"DragAndDrop","description":"","author":"","windowWidth":1920,"windowHeight":1080,"latestCompilationDirectory":"","maxFPS":60,"minFPS":20,"verticalSync":false,"platformSpecificAssets":{},"loadingScreen":{"backgroundColor":0,"backgroundFadeInDuration":0.2,"backgroundImageResourceName":"","gdevelopLogoStyle":"light","logoAndProgressFadeInDuration":0.2,"logoAndProgressLogoFadeInDelay":0.2,"minDuration":1.5,"progressBarColor":16777215,"progressBarHeight":20.0,"progressBarMaxWidth":200.0,"progressBarMinWidth":40.0,"progressBarWidthPercent":30.0,"showGDevelopSplash":true,"showProgressBar":true},"authorIds":["WaI1KDE5GTesEW1yUHMBxdHqf8s1"],"categories":[],"playableDevices":[],"extensionProperties":[{"extension":"Firebase","property":"FirebaseConfig","value":"{\n  \"apiKey\": \"AIzaSyAe3jKTNf1t2PlmKK7G2qQhIBvhyk88ptk\",\n  \"authDomain\": \"kepler-cashmere.firebaseapp.com\",\n  \"projectId\": \"kepler-cashmere\",\n  \"storageBucket\": \"kepler-cashmere.appspot.com\",\n  \"messagingSenderId\": \"157833753747\",\n  \"appId\": \"1:157833753747:web:2bed015576360e1b620966\",\n  \"measurementId\": \"G-09YR9FH6VS\"\n}"}],"platforms":[{"name":"GDevelop JS platform"}],"currentPlatform":"GDevelop JS platform"},"resources":{"resources":[{"alwaysLoaded":false,"file":"assets/QuestionBlock.png","kind":"image","metadata":"","name":"assets\\QuestionBlock.png","smoothed":true,"userAdded":true},{"file":"assets/Roboto/Roboto-Bold.ttf","kind":"font","metadata":"","name":"assets\\Roboto\\Roboto-Bold.ttf","userAdded":true},{"alwaysLoaded":false,"file":"assets/ToolBlock.png","kind":"image","metadata":"","name":"assets\\ToolBlock.png","smoothed":true,"userAdded":true},{"alwaysLoaded":false,"file":"assets/ToolBlock-1.png","kind":"image","metadata":"","name":"assets\\ToolBlock-1.png","smoothed":true,"userAdded":false},{"alwaysLoaded":false,"file":"assets/RunButton-1.png","kind":"image","metadata":"","name":"assets\\RunButton-1.png","smoothed":true,"userAdded":false},{"alwaysLoaded":false,"file":"assets/RunButton-1-0.png","kind":"image","metadata":"","name":"assets\\RunButton-1-0.png","smoothed":true,"userAdded":true}],"resourceFolders":[]},"objects":[],"objectsGroups":[],"variables":[],"layouts":[{"b":209,"disableInputWhenNotFocused":true,"mangledName":"Game","name":"Game","oglFOV":90.0,"oglZFar":500.0,"oglZNear":1.0,"r":209,"standardSortMethod":true,"stopSoundsOnStartup":true,"title":"AlgebraGame","v":209,"uiSettings":{"grid":false,"gridType":"rectangular","gridWidth":32.0,"gridHeight":32.0,"gridOffsetX":0.0,"gridOffsetY":0.0,"gridColor":10401023.0,"gridAlpha":0.8,"snap":false,"zoomFactor":0.5149999999999999,"windowMask":false},"objectsGroups":[{"name":"QuestionBlock","objects":[{"name":"QuestionBlockObject"},{"name":"QuestionBlockText"}]}],"variables":[{"folded":true,"name":"LHS_x1","type":"number","value":2.0},{"folded":true,"name":"LHS_x0","type":"number","value":2.0},{"folded":true,"name":"RHS_x0","type":"number","value":4.0},{"folded":true,"name":"LHSOperator","type":"string","value":"+"},{"folded":true,"name":"RHSOperator","type":"string","value":"null"},{"folded":true,"name":"Equation","type":"string","value":"test"},{"folded":true,"name":"Equation_Error","type":"string","value":"test"}],"instances":[{"angle":0.0,"customSize":true,"height":65.0,"layer":"","locked":false,"name":"QuestionBlockObject","persistentUuid":"5694af9d-1dec-42a2-91fc-413a6a85e6d8","width":160.0,"x":432.0,"y":190.0,"zOrder":2,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","locked":false,"name":"QuestionBlockText","persistentUuid":"a79b6765-f60f-4aa3-839b-31f6abfa8411","width":0.0,"x":445.0,"y":203.0,"zOrder":3,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"height":65.0,"layer":"","locked":false,"name":"ToolBlock","persistentUuid":"d56e5f70-9039-4881-bfaf-97072d8edace","width":160.0,"x":433.0,"y":307.0,"zOrder":4,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"height":65.0,"layer":"","locked":false,"name":"ToolBlock","persistentUuid":"8a82b251-158c-4e66-b1b0-3a63aef6017c","width":160.0,"x":160.0,"y":65.0,"zOrder":5,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","locked":false,"name":"ToolBlockText","persistentUuid":"d1f51fed-4306-4fb7-a05c-8bacedcf503a","width":0.0,"x":449.0,"y":324.0,"zOrder":6,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","locked":false,"name":"OutputText","persistentUuid":"01ebf631-8265-4237-817c-b7b474f48d7c","width":0.0,"x":652.0,"y":75.0,"zOrder":7,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"height":31.166662216186525,"layer":"","locked":false,"name":"RunButton","persistentUuid":"5183e1c9-5ffa-45ad-beb5-8ccb3efa5f7e","width":74.79998779296875,"x":52.20001220703125,"y":448.0,"zOrder":8,"numberProperties":[],"stringProperties":[],"initialVariables":[]}],"objects":[{"name":"UI","tags":"","type":"PrimitiveDrawing::Drawer","variables":[],"effects":[],"behaviors":[],"fillOpacity":255.0,"outlineSize":0,"outlineOpacity":255.0,"fillColor":{"b":133,"g":133,"r":133},"outlineColor":{"b":0,"g":0,"r":0},"absoluteCoordinates":true,"clearBetweenFrames":false},{"name":"QuestionBlockObject","tags":"","type":"Sprite","updateIfNotVisible":false,"variables":[],"effects":[],"behaviors":[{"checkCollisionMask":false,"name":"Draggable","type":"DraggableBehavior::Draggable"}],"animations":[{"name":"","useMultipleDirections":false,"directions":[{"looping":false,"timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":true,"image":"assets\\QuestionBlock.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[[{"x":90.81761169433594,"y":238.87515258789063},{"x":196.39308166503907,"y":237.73992919921876},{"x":192.9874267578125,"y":270.0},{"x":90.81761169433594,"y":270.0}]]}]}]}]},{"name":"QuestionBlockText","tags":"","type":"BBText::BBText","variables":[],"effects":[],"behaviors":[{"name":"Sticker","type":"Sticker::Sticker","OnlyFollowPosition":true}],"content":{"text":"0","opacity":255.0,"fontSize":20.0,"visible":true,"color":"0;0;0","fontFamily":"assets\\Roboto\\Roboto-Bold.ttf","align":"left","wordWrap":true}},{"name":"ToolBlock","tags":"","type":"Sprite","updateIfNotVisible":false,"variables":[{"folded":true,"name":"BlockType","type":"string","value":"+"},{"folded":true,"name":"NumberInput","type":"string","value":"2"},{"folded":true,"name":"Layer","type":"string","value":"0"}],"effects":[],"behaviors":[{"checkCollisionMask":false,"name":"Draggable","type":"DraggableBehavior::Draggable"}],"animations":[{"name":"ToolBlock","useMultipleDirections":false,"directions":[{"looping":false,"timeBetweenFrames":0.07999999821186066,"sprites":[{"hasCustomCollisionMask":true,"image":"assets\\ToolBlock-1.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[[{"x":82.8710708618164,"y":0.0},{"x":202.06918334960938,"y":0.0},{"x":198.6635284423828,"y":31.2540283203125},{"x":91.95282745361328,"y":30.11880874633789}]]}]}]}]},{"bold":false,"italic":false,"name":"ToolBlockText","smoothed":true,"tags":"","type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[{"name":"Sticker","type":"Sticker::Sticker","OnlyFollowPosition":true}],"string":"0","font":"assets\\Roboto\\Roboto-Bold.ttf","characterSize":20.0,"color":{"b":0,"g":0,"r":0}},{"bold":false,"italic":false,"name":"OutputText","smoothed":true,"tags":"","type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[],"string":"0","font":"","characterSize":20.0,"color":{"b":0,"g":0,"r":0}},{"name":"RunButton","tags":"","type":"Sprite","updateIfNotVisible":false,"variables":[],"effects":[],"behaviors":[],"animations":[{"name":"RunButton","useMultipleDirections":false,"directions":[{"looping":false,"timeBetweenFrames":0.07999999821186066,"sprites":[{"hasCustomCollisionMask":false,"image":"assets\\RunButton-1-0.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[]}]}]}]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"DepartScene"},"parameters":[""],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"PrimitiveDrawing::Rectangle"},"parameters":["UI","0","0","SceneWindowWidth()*0.2","SceneWindowHeight()"],"subInstructions":[]},{"type":{"inverted":false,"value":"Sticker::Sticker::Stick"},"parameters":["QuestionBlockText","Sticker","QuestionBlockObject",""],"subInstructions":[]},{"type":{"inverted":false,"value":"Sticker::Sticker::Stick"},"parameters":["ToolBlockText","Sticker","ToolBlock",""],"subInstructions":[]},{"type":{"inverted":false,"value":"TextObject::String"},"parameters":["ToolBlockText","=","ToolBlock.VariableString(BlockType)+ToolBlock.VariableString(NumberInput)+ \"             \" + ToolBlock.VariableString(BlockType)+ToolBlock.VariableString(NumberInput)"],"subInstructions":[]},{"type":{"inverted":false,"value":"Firebase::FirestoreGetField"},"parameters":["\"assets\"","\"equations\"","\"1)\"","Equation","Equation_Error"],"subInstructions":[]}],"events":[]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"VarSceneTxt"},"parameters":["Equation","!=","\"test\""],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"BBText::SetBBText"},"parameters":["QuestionBlockText","=","VariableString(Equation)"],"subInstructions":[]}],"events":[]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"DraggableBehavior::Dragged"},"parameters":["QuestionBlockObject","Draggable"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"ChangePlan"},"parameters":["QuestionBlockObject","=","3"],"subInstructions":[]},{"type":{"inverted":false,"value":"ChangePlan"},"parameters":["ToolBlock","=","1"],"subInstructions":[]},{"type":{"inverted":false,"value":"ChangePlan"},"parameters":["QuestionBlockText","=","4"],"subInstructions":[]},{"type":{"inverted":false,"value":"ChangePlan"},"parameters":["ToolBlockText","=","2"],"subInstructions":[]}],"events":[]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"DraggableBehavior::Dragged"},"parameters":["ToolBlock","Draggable"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"ChangePlan"},"parameters":["QuestionBlockText","=","2"],"subInstructions":[]},{"type":{"inverted":false,"value":"ChangePlan"},"parameters":["QuestionBlockObject","=","1"],"subInstructions":[]},{"type":{"inverted":false,"value":"ChangePlan"},"parameters":["ToolBlock","=","3"],"subInstructions":[]},{"type":{"inverted":false,"value":"ChangePlan"},"parameters":["ToolBlockText","=","4"],"subInstructions":[]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"VarObjet"},"parameters":["ToolBlock","Layer",">","0"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"ModVarObjet"},"parameters":["ToolBlock","Layer","=","0"],"subInstructions":[]}],"events":[]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"CollisionNP"},"parameters":["QuestionBlockObject","ToolBlock","","","yes"],"subInstructions":[]}],"actions":[],"events":[]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"DraggableBehavior::Dragged"},"parameters":["QuestionBlockObject","Draggable"],"subInstructions":[]},{"type":{"inverted":false,"value":"VarObjet"},"parameters":["ToolBlock","Layer",">","0"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"MettreX"},"parameters":["ToolBlock","=","QuestionBlockObject.X()"],"subInstructions":[]},{"type":{"inverted":false,"value":"MettreY"},"parameters":["ToolBlock","=","QuestionBlockObject.Y()+58"],"subInstructions":[]}],"events":[]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"KeyPressed"},"parameters":["","a"],"subInstructions":[]},{"type":{"inverted":false,"value":"Sticker::IsStuck"},"parameters":["","QuestionBlockText","Sticker","QuestionBlockObject",""],"subInstructions":[]},{"type":{"inverted":false,"value":"Sticker::IsStuck"},"parameters":["","ToolBlockText","Sticker","ToolBlock",""],"subInstructions":[]}],"actions":[],"events":[]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"MouseButtonReleased"},"parameters":["","Left"],"subInstructions":[]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::ForEach","object":"ToolBlock","conditions":[{"type":{"inverted":false,"value":"CollisionNP"},"parameters":["QuestionBlockObject","ToolBlock","","",""],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"MettreX"},"parameters":["ToolBlock","=","QuestionBlockObject.X()"],"subInstructions":[]},{"type":{"inverted":false,"value":"MettreY"},"parameters":["ToolBlock","=","QuestionBlockObject.Y()+58"],"subInstructions":[]},{"type":{"inverted":false,"value":"ModVarObjet"},"parameters":["ToolBlock","Layer","=","1"],"subInstructions":[]}],"events":[]}]}],"layers":[{"ambientLightColorB":32,"ambientLightColorG":0,"ambientLightColorR":0,"followBaseLayerCamera":false,"isLightingLayer":false,"name":"","visibility":true,"cameras":[{"defaultSize":true,"defaultViewport":true,"height":0.0,"viewportBottom":1.0,"viewportLeft":0.0,"viewportRight":1.0,"viewportTop":0.0,"width":0.0}],"effects":[]}],"behaviorsSharedData":[{"name":"Sticker","type":"Sticker::Sticker"}]}],"externalEvents":[],"eventsFunctionsExtensions":[{"author":"Lim98SE","category":"","description":"This extension provide two behaviors:\n\n- Turn object into cursor\nMake the object as the new cursor\n\n- Clickable button \nProvide a new condition on the object for fast checking is this one has been clicked.","extensionNamespace":"","fullName":"Mouse Helper","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQoJLnN0MXtmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwO30NCjwvc3R5bGU+DQo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTYsMjlMMTYsMjljLTUsMC05LTQtOS05VjljMC0zLjMsMi43LTYsNi02aDZjMy4zLDAsNiwyLjcsNiw2djExQzI1LDI1LDIxLDI5LDE2LDI5eiIvPg0KPGxpbmUgY2xhc3M9InN0MCIgeDE9IjE2IiB5MT0iMyIgeDI9IjE2IiB5Mj0iOCIvPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTTE2LDE1TDE2LDE1Yy0xLjEsMC0yLTAuOS0yLTJ2LTNjMC0xLjEsMC45LTIsMi0yaDBjMS4xLDAsMiwwLjksMiwydjNDMTgsMTQuMSwxNy4xLDE1LDE2LDE1eiIvPg0KPC9zdmc+DQo=","name":"MouseHelper","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/Line Hero Pack/Master/SVG/Computers and Hardware/Computers and Hardware_mouse_wireless.svg","shortDescription":"Check if a sprite has been clicked and turn any objects into a cursor.","version":"1.0.0","origin":{"identifier":"MouseHelper","name":"gdevelop-extension-store"},"tags":["mouse","cursor"],"authorIds":[],"dependencies":[],"eventsFunctions":[],"eventsBasedBehaviors":[{"description":"An easy way to turn any object into a mouse cursor.","fullName":"Turn sprite into cursor","name":"cursor","objectType":"","eventsFunctions":[{"description":"","fullName":"","functionType":"Action","group":"","name":"doStepPreEvents","private":false,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"DepartScene"},"parameters":[""],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"CacheSouris"},"parameters":[""],"subInstructions":[]},{"type":{"inverted":false,"value":"Montre"},"parameters":["Object",""],"subInstructions":[]}],"events":[]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"inverted":false,"value":"MettreXY"},"parameters":["Object","=","MouseX()","=","MouseY()"],"subInstructions":[]}],"events":[]}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Object","longDescription":"","name":"Object","optional":false,"supplementaryInformation":"","type":"object"},{"codeOnly":false,"defaultValue":"","description":"Behavior","longDescription":"","name":"Behavior","optional":false,"supplementaryInformation":"MouseHelper::cursor","type":"behavior"}],"objectGroups":[]},{"description":"","fullName":"","functionType":"Action","group":"","name":"onActivate","private":false,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"inverted":false,"value":"CacheSouris"},"parameters":[""],"subInstructions":[]},{"type":{"inverted":false,"value":"Montre"},"parameters":["Object",""],"subInstructions":[]}],"events":[]}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Object","longDescription":"","name":"Object","optional":false,"supplementaryInformation":"","type":"object"},{"codeOnly":false,"defaultValue":"","description":"Behavior","longDescription":"","name":"Behavior","optional":false,"supplementaryInformation":"MouseHelper::cursor","type":"behavior"}],"objectGroups":[]},{"description":"","fullName":"","functionType":"Action","group":"","name":"onDeActivate","private":false,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"inverted":false,"value":"MontreSouris"},"parameters":[""],"subInstructions":[]},{"type":{"inverted":false,"value":"Cache"},"parameters":["Object"],"subInstructions":[]}],"events":[]}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Object","longDescription":"","name":"Object","optional":false,"supplementaryInformation":"","type":"object"},{"codeOnly":false,"defaultValue":"","description":"Behavior","longDescription":"","name":"Behavior","optional":false,"supplementaryInformation":"MouseHelper::cursor","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[]},{"description":"Turns any object into a button, useful to know if it has been clicked with a simple object condition.","fullName":"Clickable button ","name":"button","objectType":"","eventsFunctions":[{"description":"Check if the object is clicked.","fullName":"Is Clicked?","functionType":"Condition","group":"","name":"isClicked","private":false,"sentence":"_PARAM0_ is clicked","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"SourisSurObjet"},"parameters":["Object","","",""],"subInstructions":[]},{"type":{"inverted":false,"value":"MouseButtonPressed"},"parameters":["","Left"],"subInstructions":[]},{"type":{"inverted":false,"value":"BuiltinCommonInstructions::Once"},"parameters":[],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"SetReturnBoolean"},"parameters":["True"],"subInstructions":[]}],"events":[]}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Object","longDescription":"","name":"Object","optional":false,"supplementaryInformation":"","type":"object"},{"codeOnly":false,"defaultValue":"","description":"Behavior","longDescription":"","name":"Behavior","optional":false,"supplementaryInformation":"MouseHelper::button","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[]}]},{"author":"D8H","category":"","description":"This provides:\n* \"Can reach through links\" conditions, useful to check if an object is linked to another through one or more other linked objects.\n* a path finding movement behavior that uses objects links (instead of obstacles for the other behavior)\n\nFor instance, it can be helpful for grid-based games like:\n* Match-3 (see BimBam example)\n* Tactical (see Tactical example)\n* City builders (see City Builder example)\n* Point and click (bypass obstacles with a predetermined polygonal chain)","extensionNamespace":"","fullName":"Linked Objects Tools","helpPath":"http://wiki.compilgames.net/doku.php/gdevelop5/all-features/extensions/linked-objects-tools","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLWdyYXBoLW91dGxpbmUiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTkuNSAxN0MxOS4zNiAxNyAxOS4yNCAxNyAxOS4xMSAxNy4wNEwxNy41IDEzLjhDMTcuOTUgMTMuMzUgMTguMjUgMTIuNzEgMTguMjUgMTJDMTguMjUgMTAuNjIgMTcuMTMgOS41IDE1Ljc1IDkuNUMxNS42MSA5LjUgMTUuNSA5LjUgMTUuMzUgOS41NEwxMy43NCA2LjNDMTQuMjEgNS44NCAxNC41IDUuMjEgMTQuNSA0LjVDMTQuNSAzLjEyIDEzLjM4IDIgMTIgMlM5LjUgMy4xMiA5LjUgNC41QzkuNSA1LjIgOS43OSA1Ljg0IDEwLjI2IDYuMjlMOC42NSA5LjU0QzguNSA5LjUgOC4zOSA5LjUgOC4yNSA5LjVDNi44NyA5LjUgNS43NSAxMC42MiA1Ljc1IDEyQzUuNzUgMTIuNzEgNi4wNCAxMy4zNCA2LjUgMTMuNzlMNC44OSAxNy4wNEM0Ljc2IDE3IDQuNjQgMTcgNC41IDE3QzMuMTIgMTcgMiAxOC4xMiAyIDE5LjVDMiAyMC44OCAzLjEyIDIyIDQuNSAyMlM3IDIwLjg4IDcgMTkuNUM3IDE4LjggNi43MSAxOC4xNiA2LjI0IDE3LjcxTDcuODYgMTQuNDZDOCAxNC41IDguMTIgMTQuNSA4LjI1IDE0LjVDOC4zOCAxNC41IDguNSAxNC41IDguNjMgMTQuNDZMMTAuMjYgMTcuNzFDOS43OSAxOC4xNiA5LjUgMTguOCA5LjUgMTkuNUM5LjUgMjAuODggMTAuNjIgMjIgMTIgMjJTMTQuNSAyMC44OCAxNC41IDE5LjVDMTQuNSAxOC4xMiAxMy4zOCAxNyAxMiAxN0MxMS44NyAxNyAxMS43NCAxNyAxMS42MSAxNy4wNEwxMCAxMy44QzEwLjQ1IDEzLjM1IDEwLjc1IDEyLjcxIDEwLjc1IDEyQzEwLjc1IDExLjMgMTAuNDYgMTAuNjcgMTAgMTAuMjFMMTEuNjEgNi45NkMxMS43NCA3IDExLjg3IDcgMTIgN0MxMi4xMyA3IDEyLjI2IDcgMTIuMzkgNi45NkwxNCAxMC4yMUMxMy41NCAxMC42NiAxMy4yNSAxMS4zIDEzLjI1IDEyQzEzLjI1IDEzLjM4IDE0LjM3IDE0LjUgMTUuNzUgMTQuNUMxNS44OCAxNC41IDE2IDE0LjUgMTYuMTMgMTQuNDZMMTcuNzYgMTcuNzFDMTcuMjkgMTguMTYgMTcgMTguOCAxNyAxOS41QzE3IDIwLjg4IDE4LjEyIDIyIDE5LjUgMjJTMjIgMjAuODggMjIgMTkuNUMyMiAxOC4xMiAyMC44OCAxNyAxOS41IDE3TTQuNSAyMC41QzMuOTUgMjAuNSAzLjUgMjAuMDUgMy41IDE5LjVTMy45NSAxOC41IDQuNSAxOC41IDUuNSAxOC45NSA1LjUgMTkuNSA1LjA1IDIwLjUgNC41IDIwLjVNMTMgMTkuNUMxMyAyMC4wNSAxMi41NSAyMC41IDEyIDIwLjVTMTEgMjAuMDUgMTEgMTkuNSAxMS40NSAxOC41IDEyIDE4LjUgMTMgMTguOTUgMTMgMTkuNU03LjI1IDEyQzcuMjUgMTEuNDUgNy43IDExIDguMjUgMTFTOS4yNSAxMS40NSA5LjI1IDEyIDguOCAxMyA4LjI1IDEzIDcuMjUgMTIuNTUgNy4yNSAxMk0xMSA0LjVDMTEgMy45NSAxMS40NSAzLjUgMTIgMy41UzEzIDMuOTUgMTMgNC41IDEyLjU1IDUuNSAxMiA1LjUgMTEgNS4wNSAxMSA0LjVNMTQuNzUgMTJDMTQuNzUgMTEuNDUgMTUuMiAxMSAxNS43NSAxMVMxNi43NSAxMS40NSAxNi43NSAxMiAxNi4zIDEzIDE1Ljc1IDEzIDE0Ljc1IDEyLjU1IDE0Ljc1IDEyTTE5LjUgMjAuNUMxOC45NSAyMC41IDE4LjUgMjAuMDUgMTguNSAxOS41UzE4Ljk1IDE4LjUgMTkuNSAxOC41IDIwLjUgMTguOTUgMjAuNSAxOS41IDIwLjA1IDIwLjUgMTkuNSAyMC41WiIgLz48L3N2Zz4=","name":"LinkTools","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/graph-outline.svg","shortDescription":"Conditions to use Linked Objects as a graph and a path finding movement behavior.","version":"1.2.1","origin":{"identifier":"LinkTools","name":"gdevelop-extension-store"},"tags":["link","graph","path","match","tactical","city","movement"],"authorIds":["IWykYNRvhCZBN3vEgKEbBPOR3Oc2"],"dependencies":[],"eventsFunctions":[{"description":"Link to neighbors on a rectangular grid.","fullName":"Link to neighbors on a rectangular grid","functionType":"Action","group":"","name":"LinkRectangularNeighbors","private":false,"sentence":"Link _PARAM1_ and its neighbors _PARAM2_  on a rectangular grid with cell dimensions: _PARAM3_; _PARAM4_","events":[{"type":"BuiltinCommonInstructions::ForEach","object":"Object","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"CollisionPoint"},"parameters":["Neighbor","Object.X() + GetArgumentAsNumber(\"CellWidth\")","Object.Y()"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"],"subInstructions":[]}],"events":[]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"CollisionPoint"},"parameters":["Neighbor","Object.X()","Object.Y() + GetArgumentAsNumber(\"CellHeight\")"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"],"subInstructions":[]}],"events":[]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"CollisionPoint"},"parameters":["Neighbor","Object.X() - GetArgumentAsNumber(\"CellWidth\")","Object.Y()"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"],"subInstructions":[]}],"events":[]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"CollisionPoint"},"parameters":["Neighbor","Object.X()","Object.Y() - GetArgumentAsNumber(\"CellHeight\")"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"],"subInstructions":[]}],"events":[]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"GetArgumentAsBoolean"},"parameters":["\"AllowsDiagonals\""],"subInstructions":[]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"CollisionPoint"},"parameters":["Neighbor","Object.X() + GetArgumentAsNumber(\"CellWidth\")","Object.Y() + GetArgumentAsNumber(\"CellHeight\")"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"],"subInstructions":[]}],"events":[]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"CollisionPoint"},"parameters":["Neighbor","Object.X() - GetArgumentAsNumber(\"CellWidth\")","Object.Y() + GetArgumentAsNumber(\"CellHeight\")"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"],"subInstructions":[]}],"events":[]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"CollisionPoint"},"parameters":["Neighbor","Object.X() - GetArgumentAsNumber(\"CellWidth\")","Object.Y() - GetArgumentAsNumber(\"CellHeight\")"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"],"subInstructions":[]}],"events":[]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"CollisionPoint"},"parameters":["Neighbor","Object.X() + GetArgumentAsNumber(\"CellWidth\")","Object.Y() - GetArgumentAsNumber(\"CellHeight\")"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"],"subInstructions":[]}],"events":[]}]}]}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Object","longDescription":"","name":"Object","optional":false,"supplementaryInformation":"","type":"objectList"},{"codeOnly":false,"defaultValue":"","description":"Neighbor","longDescription":"The 2 objects can't be the same.","name":"Neighbor","optional":false,"supplementaryInformation":"","type":"objectList"},{"codeOnly":false,"defaultValue":"","description":"Cell width","longDescription":"","name":"CellWidth","optional":false,"supplementaryInformation":"","type":"expression"},{"codeOnly":false,"defaultValue":"","description":"Cell height","longDescription":"","name":"CellHeight","optional":false,"supplementaryInformation":"","type":"expression"},{"codeOnly":false,"defaultValue":"","description":"Allows diagonals","longDescription":"","name":"AllowsDiagonals","optional":false,"supplementaryInformation":"","type":"yesorno"}],"objectGroups":[]},{"description":"Link to neighbors on a hexagonal grid.","fullName":"Link to neighbors on a hexagonal grid","functionType":"Action","group":"","name":"LinkHexagonalNeighbors","private":false,"sentence":"Link _PARAM1_ and its neighbors _PARAM2_  on a hexagonal grid with cell dimensions: _PARAM3_; _PARAM4_","events":[{"type":"BuiltinCommonInstructions::ForEach","object":"Object","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"CollisionPoint"},"parameters":["Neighbor","Object.X() + GetArgumentAsNumber(\"CellWidth\")","Object.Y()"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"],"subInstructions":[]}],"events":[]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"CollisionPoint"},"parameters":["Neighbor","Object.X() + GetArgumentAsNumber(\"CellWidth\") / 2","Object.Y() + GetArgumentAsNumber(\"CellHeight\") * 3/4"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"],"subInstructions":[]}],"events":[]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"CollisionPoint"},"parameters":["Neighbor","Object.X() - GetArgumentAsNumber(\"CellWidth\") / 2","Object.Y() + GetArgumentAsNumber(\"CellHeight\") * 3/4"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"],"subInstructions":[]}],"events":[]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"CollisionPoint"},"parameters":["Neighbor","Object.X() - GetArgumentAsNumber(\"CellWidth\")","Object.Y()"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"],"subInstructions":[]}],"events":[]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"CollisionPoint"},"parameters":["Neighbor","Object.X() - GetArgumentAsNumber(\"CellWidth\") / 2","Object.Y() - GetArgumentAsNumber(\"CellHeight\") * 3/4"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"],"subInstructions":[]}],"events":[]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"CollisionPoint"},"parameters":["Neighbor","Object.X() + GetArgumentAsNumber(\"CellWidth\") / 2","Object.Y() - GetArgumentAsNumber(\"CellHeight\") * 3/4"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"],"subInstructions":[]}],"events":[]}]}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Object","longDescription":"","name":"Object","optional":false,"supplementaryInformation":"","type":"objectList"},{"codeOnly":false,"defaultValue":"","description":"Neighbor","longDescription":"The 2 objects can't be the same.","name":"Neighbor","optional":false,"supplementaryInformation":"","type":"objectList"},{"codeOnly":false,"defaultValue":"","description":"Cell width","longDescription":"","name":"CellWidth","optional":false,"supplementaryInformation":"","type":"expression"},{"codeOnly":false,"defaultValue":"","description":"Cell height","longDescription":"","name":"CellHeight","optional":false,"supplementaryInformation":"","type":"expression"}],"objectGroups":[]},{"description":"Link to neighbors on an isometric grid.","fullName":"Link to neighbors on an isometric grid","functionType":"Action","group":"","name":"LinkIsometricRectangularNeighbors","private":false,"sentence":"Link _PARAM1_ and its neighbors _PARAM2_  on an isometric grid with cell dimensions: _PARAM3_; _PARAM4_","events":[{"type":"BuiltinCommonInstructions::ForEach","object":"Object","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"CollisionPoint"},"parameters":["Neighbor","Object.X() + GetArgumentAsNumber(\"CellWidth\") / 2","Object.Y() + GetArgumentAsNumber(\"CellHeight\") / 2"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"],"subInstructions":[]}],"events":[]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"CollisionPoint"},"parameters":["Neighbor","Object.X() - GetArgumentAsNumber(\"CellWidth\") / 2","Object.Y() + GetArgumentAsNumber(\"CellHeight\") / 2"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"],"subInstructions":[]}],"events":[]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"CollisionPoint"},"parameters":["Neighbor","Object.X() - GetArgumentAsNumber(\"CellWidth\") / 2","Object.Y() - GetArgumentAsNumber(\"CellHeight\") / 2"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"],"subInstructions":[]}],"events":[]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"CollisionPoint"},"parameters":["Neighbor","Object.X() + GetArgumentAsNumber(\"CellWidth\") / 2","Object.Y() - GetArgumentAsNumber(\"CellHeight\") / 2"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"],"subInstructions":[]}],"events":[]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"GetArgumentAsBoolean"},"parameters":["\"AllowsDiagonals\""],"subInstructions":[]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"CollisionPoint"},"parameters":["Neighbor","Object.X() + GetArgumentAsNumber(\"CellWidth\")","Object.Y()"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"],"subInstructions":[]}],"events":[]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"CollisionPoint"},"parameters":["Neighbor","Object.X()","Object.Y() + GetArgumentAsNumber(\"CellHeight\")"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"],"subInstructions":[]}],"events":[]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"CollisionPoint"},"parameters":["Neighbor","Object.X() - GetArgumentAsNumber(\"CellWidth\")","Object.Y()"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"],"subInstructions":[]}],"events":[]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"CollisionPoint"},"parameters":["Neighbor","Object.X()","Object.Y() - GetArgumentAsNumber(\"CellHeight\")"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"],"subInstructions":[]}],"events":[]}]}]}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Object","longDescription":"","name":"Object","optional":false,"supplementaryInformation":"","type":"objectList"},{"codeOnly":false,"defaultValue":"","description":"Neighbor","longDescription":"The 2 objects can't be the same.","name":"Neighbor","optional":false,"supplementaryInformation":"","type":"objectList"},{"codeOnly":false,"defaultValue":"","description":"Cell width","longDescription":"","name":"CellWidth","optional":false,"supplementaryInformation":"","type":"expression"},{"codeOnly":false,"defaultValue":"","description":"Cell height","longDescription":"","name":"CellHeight","optional":false,"supplementaryInformation":"","type":"expression"},{"codeOnly":false,"defaultValue":"","description":"Allows diagonals","longDescription":"","name":"AllowsDiagonals","optional":false,"supplementaryInformation":"","type":"yesorno"}],"objectGroups":[]},{"description":"Can reach through a given cost sum.","fullName":"Can reach with links limited by cost","functionType":"Condition","group":"","name":"CanReachWithMaxWeight","private":false,"sentence":"Take into account all \"_PARAM1_\" that can reach _PARAM2_ with initial value from the variable _PARAM3_ through at most a cost of: _PARAM4_ according to cost class: _PARAM5_ and at most _PARAM6_ links depth","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"\n/**\n * Insert a node in an array sorted by farest 1st\n * @param {gdjs.RuntimeObject[]} objects\n * @param {gdjs.RuntimeObject} object\n */\nconst insertOpenNode = function (objects, object)\n{\n    let leftIndex = 0;\n    let rightIndex = objects.length;\n    while (leftIndex < rightIndex)\n    {\n        const medianIndex = Math.floor((leftIndex + rightIndex) / 2)\n        if (objects[medianIndex].linktoolsWeightSum < object.linktoolsWeightSum\n         || objects[medianIndex].linktoolsWeightSum === object.linktoolsWeightSum\n         && objects[medianIndex].linktoolsDepth < object.linktoolsDepth)\n            rightIndex = medianIndex;\n        else\n            leftIndex = medianIndex + 1;\n    }\n    objects.splice(rightIndex, 0, object);\n};\n\nlet pickedSomething = false;\nconst pickedObjects = eventsFunctionContext.getObjects(\"PickedObject\");\nconst targetObjects = eventsFunctionContext.getObjects(\"TargetObject\");\n/** @type {string} */\nconst initialLengthVariableName = eventsFunctionContext.getArgument(\"InitialLengthVariable\");\n/** @type {number} */\nconst maxWeight = eventsFunctionContext.getArgument(\"MaxWeight\");\n/** @type {string} */\nconst costClass = eventsFunctionContext.getArgument(\"CostClass\");\nconst skipFirstCost = eventsFunctionContext.getArgument(\"SkipFirstWeight\") === true;\n/** @type {number} */\nconst maxDepth = eventsFunctionContext.getArgument(\"MaxDepth\");\n\n/** @type {gdjs.LinksManager} */\nconst manager = gdjs.LinksManager.getManager(runtimeScene);\nfor (const targetObject of targetObjects)\n{\n    targetObject.linktoolsDepth = 0;\n    if (initialLengthVariableName === \"\")\n    {\n        targetObject.linktoolsWeightSum = 0;\n    }\n    else\n    {\n        targetObject.linktoolsWeightSum = targetObject.getVariableNumber(targetObject.getVariables().get(initialLengthVariableName));\n    }\n}\nfor (const pickedObject of pickedObjects)\n{\n    pickedObject.pick = false;\n}\n// mark every instance that can be reached through links\n// openObjects is the new discovered instances where links must be checked\nlet openObjects;\nopenObjects = targetObjects.slice();\nif (initialLengthVariableName !== \"\")\n{\n    // nearest last because pop is o(1)\n    openObjects.sort\n    (\n        function (a, b)\n        {\n            return b.linktoolsWeightSum - a.linktoolsWeightSum;\n        }\n    );\n}\nwhile (openObjects.length !== 0)\n{\n    const object = openObjects.pop();\n    const linktoolsWeightSum = object.linktoolsWeightSum;\n    /** @type {Array<gdjs.RuntimeObject>} */\n    const linkedObjects = manager.getObjectsLinkedWith(object);\n    for (const linkedObject of linkedObjects)\n    {\n        // don't check one instance twice\n        // and it must be in the set given by the caller\n        if (!linkedObject.pick && pickedObjects.includes(linkedObject) && object.linktoolsDepth < maxDepth)\n        {\n            let newWeightSum = 0;\n            if (costClass.length === 0)\n            {\n                newWeightSum = linktoolsWeightSum + 1;\n            }\n            else\n            {\n                const costVariable = linkedObject.getVariables().get(\"linktools_Cost\");\n                if (costVariable.hasChild(costClass))\n                {\n                    const cost = linkedObject.getVariableNumber(costVariable.getChild(costClass));\n                    newWeightSum = linktoolsWeightSum + cost;\n                }\n                else {\n                    newWeightSum = maxWeight + 1;\n                }\n            }\n            if (newWeightSum <= maxWeight)\n            {\n                if (object.linktoolsDepth === 0 && skipFirstCost)\n                {\n                    linkedObject.linktoolsWeightSum = linktoolsWeightSum;\n                }\n                else\n                {\n                    linkedObject.linktoolsWeightSum = newWeightSum;\n                }\n                linkedObject.pick = true;\n                pickedSomething = true;\n                linkedObject.linktoolsDepth = object.linktoolsDepth + 1;\n                insertOpenNode(openObjects, linkedObject);\n            }\n        }\n    }\n}\n// filter the instances to only keep the one marked with the pick attribute\nconst pickedObjectsLists = eventsFunctionContext.getObjectsLists(\"PickedObject\");\n/** @type {Array<String>} */\nconst objectNames = [];\npickedObjectsLists.keys(objectNames);\nfor (const objectName of objectNames)\n{\n    const pickedObjectsList = pickedObjectsLists.get(objectName);\n    gdjs.evtTools.object.filterPickedObjectsList(pickedObjectsList);\n}\nfor (const pickedObject of pickedObjects)\n{\n    pickedObject.pick = false;\n}\neventsFunctionContext.returnValue = pickedSomething;","parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Pick these objects...","longDescription":"","name":"PickedObject","optional":false,"supplementaryInformation":"","type":"objectList"},{"codeOnly":false,"defaultValue":"","description":"if they can reach this object","longDescription":"","name":"TargetObject","optional":false,"supplementaryInformation":"","type":"objectList"},{"codeOnly":false,"defaultValue":"","description":"Initial length variable","longDescription":"Start to 0 if left empty","name":"InitialLengthVariable","optional":false,"supplementaryInformation":"","type":"string"},{"codeOnly":false,"defaultValue":"","description":"Maximum cost","longDescription":"","name":"MaxWeight","optional":false,"supplementaryInformation":"","type":"expression"},{"codeOnly":false,"defaultValue":"","description":"Cost class","longDescription":"Leave empty to make everything crossable with cost = 1. It looks in the variable children of linktools_Cost. No child means not crossable, the cost must be positive.","name":"CostClass","optional":false,"supplementaryInformation":"","type":"string"},{"codeOnly":false,"defaultValue":"","description":"Maximum depth","longDescription":"","name":"MaxDepth","optional":false,"supplementaryInformation":"","type":"expression"},{"codeOnly":false,"defaultValue":"","description":"Ignore first node cost","longDescription":"","name":"SkipFirstWeight","optional":false,"supplementaryInformation":"","type":"yesorno"}],"objectGroups":[]},{"description":"Can reach through a given number of links.","fullName":"Can reach with links limited by length","functionType":"Condition","group":"","name":"CanReachWithMaxLength","private":false,"sentence":"Take into account all \"_PARAM1_\" that can reach _PARAM2_ through at most _PARAM3_ links according to cost class: _PARAM4_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"let pickedSomething = false;\nconst pickedObjects = eventsFunctionContext.getObjects(\"PickedObject\");\nconst targetObjects = eventsFunctionContext.getObjects(\"TargetObject\");\n/** @type {number} */\nconst maxLinkLength = eventsFunctionContext.getArgument(\"MaxLinkLength\");\n/** @type {string} */\nconst costClass = eventsFunctionContext.getArgument(\"CostClass\");\n/** @type {gdjs.LinksManager} */\nconst manager = gdjs.LinksManager.getManager(runtimeScene);\nfor (const targetObject of targetObjects)\n{\n    targetObject.linktoolsWeightSum = 0;\n}\nfor (const pickedObject of pickedObjects)\n{\n    pickedObject.pick = false;\n}\n// mark every instance that can be reached through links\n// openObjects is the new discovered instances where links must be checked\nlet openObjects = [];\nlet swapOpenObjects = [];\nlet nextOpenObjects = targetObjects.slice();\nwhile (nextOpenObjects.length !== 0)\n{\n    swapOpenObjects = openObjects;\n    openObjects = nextOpenObjects;\n    nextOpenObjects = swapOpenObjects;\n    nextOpenObjects.length = 0;\n    while (openObjects.length !== 0)\n    {\n        const object = openObjects.pop();\n        /** @type {number} */\n        const linktoolsWeightSum = object.linktoolsWeightSum;\n        /** @type {Array<gdjs.RuntimeObject>} */\n        const linkedObjects = manager.getObjectsLinkedWith(object);\n        //console.log(\"linktoolsWeightSum: \" + linktoolsWeightSum);\n        //console.log(\"linkedObjects: \" + linkedObjects.length);\n        for (const linkedObject of linkedObjects)\n        {\n            // don't check one instance twice\n            // and it must be in the set given by the caller\n            if (!linkedObject.pick && pickedObjects.includes(linkedObject))\n            {\n                if (costClass === \"\")\n                {\n                    if (linktoolsWeightSum + 1 <= maxLinkLength)\n                    {\n                        linkedObject.pick = true;\n                        pickedSomething = true;\n                        linkedObject.linktoolsWeightSum = linktoolsWeightSum + 1;\n                        nextOpenObjects.push(linkedObject);\n                    }\n                }\n                else\n                {\n                    const costVariable = linkedObject.getVariables().get(\"linktools_Cost\");\n                    if (costVariable.hasChild(costClass))\n                    {\n                        const cost = linkedObject.getVariableNumber(costVariable.getChild(costClass));\n                        if (cost === 0)\n                        {\n                            linkedObject.pick = true;\n                            pickedSomething = true;\n                            linkedObject.linktoolsWeightSum = linktoolsWeightSum;\n                            openObjects.push(linkedObject);\n                        }\n                        else\n                        {\n                            if (linktoolsWeightSum + 1 <= maxLinkLength)\n                            {\n                                linkedObject.pick = true;\n                                pickedSomething = true;\n                                linkedObject.linktoolsWeightSum = linktoolsWeightSum + 1;\n                                nextOpenObjects.push(linkedObject);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n// filter the instances to only keep the one marked with the pick attribute\nconst pickedObjectsLists = eventsFunctionContext.getObjectsLists(\"PickedObject\");\n/** @type {Array<String>} */\nconst objectNames = [];\npickedObjectsLists.keys(objectNames);\nfor (const objectName of objectNames)\n{\n    const pickedObjectsList = pickedObjectsLists.get(objectName);\n    gdjs.evtTools.object.filterPickedObjectsList(pickedObjectsList);\n}\nfor (const pickedObject of pickedObjects)\n{\n    pickedObject.pick = false;\n}\neventsFunctionContext.returnValue = pickedSomething;","parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Pick these objects...","longDescription":"","name":"PickedObject","optional":false,"supplementaryInformation":"","type":"objectList"},{"codeOnly":false,"defaultValue":"","description":"if they can reach this object","longDescription":"","name":"TargetObject","optional":false,"supplementaryInformation":"","type":"objectList"},{"codeOnly":false,"defaultValue":"","description":"Maximum link length","longDescription":"","name":"MaxLinkLength","optional":false,"supplementaryInformation":"","type":"expression"},{"codeOnly":false,"defaultValue":"","description":"Cost class","longDescription":"Leave empty to make everything crossable with cost = 1. It looks in the variable children of linktools_Cost. No child means not crossable, the cost can be 0 or 1.","name":"CostClass","optional":false,"supplementaryInformation":"","type":"string"}],"objectGroups":[]},{"description":"Can reach through links.","fullName":"Can reach","functionType":"Condition","group":"","name":"CanReach","private":false,"sentence":"Take into account all \"_PARAM1_\" that can reach _PARAM2_ through links","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"let pickedSomething = false;\nconst pickedObjects = eventsFunctionContext.getObjects(\"PickedObject\");\nconst targetObjects = eventsFunctionContext.getObjects(\"TargetObject\");\nconsole.log(\"pickedObjects: \" + pickedObjects.length);\n/** @type {gdjs.LinksManager} */\nconst manager = gdjs.LinksManager.getManager(runtimeScene);\nfor (const targetObject of targetObjects)\n{\n    targetObject.linktoolsWeightSum = 0;\n}\nfor (const pickedObject of pickedObjects)\n{\n    pickedObject.pick = false;\n}\n// mark every instance that can be reached through links\n// openObjects is the new discovered instances where links must be checked\nlet openObjects = [];\nlet swapOpenObjects = [];\nlet nextOpenObjects = targetObjects.slice();\nlet linkLength = 0;\nwhile (nextOpenObjects.length !== 0)\n{\n    swapOpenObjects = openObjects;\n    openObjects = nextOpenObjects;\n    nextOpenObjects = swapOpenObjects;\n    nextOpenObjects.length = 0;\n    while (openObjects.length != 0)\n    {\n        const object = openObjects.pop();\n        /** @type {Array<gdjs.RuntimeObject>} */\n        const linkedObjects = manager.getObjectsLinkedWith(object);\n        for (const linkedObject of linkedObjects)\n        {\n            // don't check one instance twice\n            // and it must be in the set given by the caller\n            if (!linkedObject.pick && pickedObjects.includes(linkedObject))\n            {\n                linkedObject.pick = true;\n                pickedSomething = true;\n                linkedObject.linktoolsWeightSum = linkLength + 1;\n                nextOpenObjects.push(linkedObject);\n            }\n        }\n    }\n    linkLength++;\n}\n// filter the instances to only keep the one marked with the pick attribute\nconst pickedObjectsLists = eventsFunctionContext.getObjectsLists(\"PickedObject\");\n/** @type {Array<String>} */\nconst objectNames = [];\npickedObjectsLists.keys(objectNames);\nfor (const objectName of objectNames)\n{\n    const pickedObjectsList = pickedObjectsLists.get(objectName);\n    gdjs.evtTools.object.filterPickedObjectsList(pickedObjectsList);\n}\nfor (const pickedObject of pickedObjects)\n{\n    pickedObject.pick = false;\n}\neventsFunctionContext.returnValue = pickedSomething;","parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Pick these objects...","longDescription":"","name":"PickedObject","optional":false,"supplementaryInformation":"","type":"objectList"},{"codeOnly":false,"defaultValue":"","description":"if they can reach this object","longDescription":"","name":"TargetObject","optional":false,"supplementaryInformation":"","type":"objectList"}],"objectGroups":[]},{"description":"Cost sum.","fullName":"Cost sum","functionType":"Expression","group":"","name":"CostSum","private":false,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"eventsFunctionContext.returnValue = objects[0].linktoolsWeightSum;","parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Object","longDescription":"","name":"Object","optional":false,"supplementaryInformation":"","type":"objectList"}],"objectGroups":[]}],"eventsBasedBehaviors":[{"description":"The object will move from one object instance to another according to how they are linked to one another to reach a targeted object.","fullName":"Link path finding","name":"LinkPathFinding","objectType":"","eventsFunctions":[{"description":"","fullName":"","functionType":"Action","group":"","name":"doStepPreEvents","private":false,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Move the object along the path","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"LinkTools::LinkPathFinding::PropertyisOnPath"},"parameters":["Object","Behavior"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"LinkTools::LinkPathFinding::SetPropertySpeed"},"parameters":["Object","Behavior","+","Object.Behavior::PropertyAcceleration() * TimeDelta()"],"subInstructions":[]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"LinkTools::LinkPathFinding::PropertySpeed"},"parameters":["Object","Behavior",">","Object.Behavior::PropertySpeedMax()"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"LinkTools::LinkPathFinding::SetPropertySpeed"},"parameters":["Object","Behavior","=","Object.Behavior::PropertySpeedMax()"],"subInstructions":[]}],"events":[]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"inverted":false,"value":"LinkTools::LinkPathFinding::SetPropertyIsAtNode"},"parameters":["Object","Behavior","no"],"subInstructions":[]}],"events":[]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"Egal"},"parameters":["Object.SqDistanceToPosition(Object.Behavior::PropertyNextNodeX(), Object.Behavior::PropertyNextNodeY())","<=","Object.Behavior::PropertySpeed() * TimeDelta() * Object.Behavior::PropertySpeed() * TimeDelta()"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"MettreXY"},"parameters":["Object","=","Object.Behavior::PropertyNextNodeX()","=","Object.Behavior::PropertyNextNodeY()"],"subInstructions":[]},{"type":{"inverted":false,"value":"LinkTools::LinkPathFinding::SetPropertyIsAtNode"},"parameters":["Object","Behavior","yes"],"subInstructions":[]},{"type":{"inverted":false,"value":"LinkTools::LinkPathFinding::SetNextNode"},"parameters":["Object","Behavior","Object.Behavior::PropertyNextNodeIndex() + 1",""],"subInstructions":[]}],"events":[]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"LinkTools::LinkPathFinding::PropertyIsAtNode"},"parameters":["Object","Behavior"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"AddForceVersPos"},"parameters":["Object","Object.Behavior::PropertyNextNodeX()","Object.Behavior::PropertyNextNodeY()","Object.Behavior::PropertySpeed()",""],"subInstructions":[]}],"events":[]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"LinkTools::LinkPathFinding::PropertyRotate"},"parameters":["Object","Behavior"],"subInstructions":[]},{"type":{"inverted":false,"value":"Angle"},"parameters":["Object","!=","Object.Behavior::PropertyNextNodeAngle()"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"RotateTowardAngle"},"parameters":["Object","Object.Behavior::PropertyNextNodeAngle()","Object.Behavior::PropertyRotationSpeed()",""],"subInstructions":[]}],"events":[]}]}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Object","longDescription":"","name":"Object","optional":false,"supplementaryInformation":"","type":"object"},{"codeOnly":false,"defaultValue":"","description":"Behavior","longDescription":"","name":"Behavior","optional":false,"supplementaryInformation":"LinkTools::LinkPathFinding","type":"behavior"}],"objectGroups":[]},{"description":"Move the object to a position.","fullName":"Move to a position","functionType":"Action","group":"","name":"MoveTo","private":false,"sentence":"Move _PARAM0_ to _PARAM3_ passing by _PARAM2_ using cost class _PARAM4_","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Search the path and set the result in the path variable.\nThis variable is use by doStepPreEvent to move the object along the path.","comment2":""},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"\n/**\n * Insert a node in an array sorted by farest 1st\n * @param {gdjs.RuntimeObject[]} objects\n * @param {gdjs.RuntimeObject} object\n */\nconst insertOpenNode = function (objects, object)\n{\n    let leftIndex = 0;\n    let rightIndex = objects.length;\n    while (leftIndex < rightIndex)\n    {\n        const medianIndex = Math.floor((leftIndex + rightIndex) / 2)\n        if (objects[medianIndex].linktoolsWeightSum < object.linktoolsWeightSum)\n            rightIndex = medianIndex;\n        else\n            leftIndex = medianIndex + 1;\n    }\n    objects.splice(rightIndex, 0, object);\n};\n\nconst pickedObjects = eventsFunctionContext.getObjects(\"CrossableObject\");\nconst targetObjects = eventsFunctionContext.getObjects(\"DestinationObject\");\nconst costClass = eventsFunctionContext.getArgument(\"CostClass\").toString();\n\nfor (const object of objects)\n{\n    let pickedSomething = false;\n    /** @type {gdjs.LinksManager} */\n    const manager = gdjs.LinksManager.getManager(runtimeScene);\n    for (const pickedObject of pickedObjects)\n    {\n        pickedObject.pick = false;\n    }\n    // mark every instance that can be reached through links\n    // openObjects is the new discovered instances where links must be checked\n    let openObjects = targetObjects.slice();\n    for (const openObject of openObjects)\n    {\n        openObject.linktoolsWeightSum = 0;\n        openObject.linktoolsPreviousNode = null;\n    }\n    let objectFound = false;\n    while (openObjects.length !== 0 && !objectFound)\n    {\n        const openObject = openObjects.pop();\n        const linktoolsWeightSum = openObject.linktoolsWeightSum;\n        /** @type {Array<gdjs.RuntimeObject>} */\n        const linkedObjects = manager.getObjectsLinkedWith(openObject);\n        for (const linkedObject of linkedObjects)\n        {\n            objectFound = linkedObject === object;\n            // don't check one instance twice\n            // and it must be in the set given by the caller\n            if ((!linkedObject.pick && pickedObjects.includes(linkedObject)) || objectFound)\n            {\n                let isCrossable = objectFound;\n                if (!objectFound)\n                {\n                    let newWeightSum = 0;\n                    if (costClass.length === 0)\n                    {\n                        isCrossable = true;\n                        newWeightSum = linktoolsWeightSum + 1;\n                    }\n                    else\n                    {\n                        const costVariable = linkedObject.getVariables().get(\"linktools_Cost\");\n                        isCrossable = costVariable.hasChild(costClass);\n                        if (isCrossable)\n                        {\n                            const cost = linkedObject.getVariableNumber(costVariable.getChild(costClass));\n                            newWeightSum = linktoolsWeightSum + cost;\n                        }\n                    }\n                    if (isCrossable)\n                    {\n                        linkedObject.pick = true;\n                        linkedObject.linktoolsWeightSum = newWeightSum;\n                        insertOpenNode(openObjects, linkedObject);\n                    }\n                }\n                if (isCrossable)\n                {\n                    linkedObject.linktoolsPreviousNode = openObject;\n                    pickedSomething = true;\n                }\n            }\n        }\n    }\n    \n    const variables = object.getVariables();\n    let pathVariable;\n    if (variables.has(\"__linktools_Path\"))\n    {\n        pathVariable = variables.get(\"__linktools_Path\");\n    }\n    else\n    {\n        pathVariable = new gdjs.Variable({type: \"structure\"})\n        variables.add(\"__linktools_Path\", pathVariable);\n    }\n    pathVariable.clearChildren();\n    if (objectFound)\n    {\n        // build the path in the path variable\n        let pathObject = object;\n        let index = 0;\n        while (pathObject.linktoolsPreviousNode !== null)\n        {\n            const previousX = pathObject.getX();\n            const previousY = pathObject.getY();\n            pathObject = pathObject.linktoolsPreviousNode;\n            if (pathObject.getX() !== previousX\n             || pathObject.getY() !== previousY)\n            {\n                const positionVariable = new gdjs.Variable({type: \"structure\"});\n                positionVariable.addChild(\"x\", new gdjs.Variable({value: pathObject.getX(), type: \"number\"}));\n                positionVariable.addChild(\"y\", new gdjs.Variable({value: pathObject.getY(), type: \"number\"}));\n                pathVariable.addChild(index, positionVariable);\n\n                index++;\n            }\n        }\n    }\n    for (const pickedObject of pickedObjects)\n    {\n        pickedObject.pick = false;\n    }\n    eventsFunctionContext.returnValue = objectFound;\n}","parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"ObjectVariableChildExists"},"parameters":["Object","__linktools_Path","\"0\""],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"LinkTools::LinkPathFinding::SetPropertyisOnPath"},"parameters":["Object","Behavior","yes"],"subInstructions":[]},{"type":{"inverted":false,"value":"LinkTools::LinkPathFinding::SetPropertySpeed"},"parameters":["Object","Behavior","=","0"],"subInstructions":[]},{"type":{"inverted":false,"value":"LinkTools::LinkPathFinding::SetNextNode"},"parameters":["Object","Behavior","0","0"],"subInstructions":[]}],"events":[]}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Object","longDescription":"","name":"Object","optional":false,"supplementaryInformation":"","type":"object"},{"codeOnly":false,"defaultValue":"","description":"Behavior","longDescription":"","name":"Behavior","optional":false,"supplementaryInformation":"LinkTools::LinkPathFinding","type":"behavior"},{"codeOnly":false,"defaultValue":"","description":"Crossable objects","longDescription":"","name":"CrossableObject","optional":false,"supplementaryInformation":"","type":"objectList"},{"codeOnly":false,"defaultValue":"","description":"Destination objects","longDescription":"","name":"DestinationObject","optional":false,"supplementaryInformation":"","type":"objectList"},{"codeOnly":false,"defaultValue":"","description":"Cost class","longDescription":"","name":"CostClass","optional":false,"supplementaryInformation":"","type":"string"}],"objectGroups":[]},{"description":"Check if the object position is the on a path node.","fullName":"Is at a node","functionType":"Condition","group":"","name":"HasReachedNode","private":false,"sentence":"_PARAM0_  is at a node","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"LinkTools::LinkPathFinding::PropertyIsAtNode"},"parameters":["Object","Behavior"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"SetReturnBoolean"},"parameters":["True"],"subInstructions":[]}],"events":[]}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Object","longDescription":"","name":"Object","optional":false,"supplementaryInformation":"","type":"object"},{"codeOnly":false,"defaultValue":"","description":"Behavior","longDescription":"","name":"Behavior","optional":false,"supplementaryInformation":"LinkTools::LinkPathFinding","type":"behavior"}],"objectGroups":[]},{"description":"Forget the path.","fullName":"Forget the path","functionType":"Action","group":"","name":"ForgetPath","private":false,"sentence":"_PARAM0_ forgets the path","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"inverted":false,"value":"LinkTools::LinkPathFinding::SetPropertyisOnPath"},"parameters":["Object","Behavior",""],"subInstructions":[]},{"type":{"inverted":false,"value":"LinkTools::LinkPathFinding::SetPropertyIsAtNode"},"parameters":["Object","Behavior",""],"subInstructions":[]},{"type":{"inverted":false,"value":"ObjectVariableClearChildren"},"parameters":["Object","__linktools_Path"],"subInstructions":[]}],"events":[]}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Object","longDescription":"","name":"Object","optional":false,"supplementaryInformation":"","type":"object"},{"codeOnly":false,"defaultValue":"","description":"Behavior","longDescription":"","name":"Behavior","optional":false,"supplementaryInformation":"LinkTools::LinkPathFinding","type":"behavior"}],"objectGroups":[]},{"description":"Set next node index","fullName":"Set next node index","functionType":"Action","group":"","name":"SetNextNode","private":true,"sentence":"Set next node index of _PARAM0_ to _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"inverted":false,"value":"LinkTools::LinkPathFinding::SetPropertyNextNodeIndex"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"Index\")"],"subInstructions":[]}],"events":[]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"No more nodes","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"LinkTools::LinkPathFinding::PropertyNextNodeIndex"},"parameters":["Object","Behavior","=","Object.VariableChildCount(__linktools_Path) "],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"LinkTools::LinkPathFinding::SetPropertyisOnPath"},"parameters":["Object","Behavior",""],"subInstructions":[]},{"type":{"inverted":false,"value":"LinkTools::LinkPathFinding::SetPropertySpeed"},"parameters":["Object","Behavior","=","0"],"subInstructions":[]}],"events":[]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Update the next target","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"LinkTools::LinkPathFinding::PropertyNextNodeIndex"},"parameters":["Object","Behavior","<","Object.VariableChildCount(__linktools_Path) "],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"LinkTools::LinkPathFinding::SetPropertyNextNodeX"},"parameters":["Object","Behavior","=","Object.Variable(__linktools_Path[Object.Behavior::PropertyNextNodeIndex()][\"x\"])"],"subInstructions":[]},{"type":{"inverted":false,"value":"LinkTools::LinkPathFinding::SetPropertyNextNodeY"},"parameters":["Object","Behavior","=","Object.Variable(__linktools_Path[Object.Behavior::PropertyNextNodeIndex()][\"y\"])"],"subInstructions":[]},{"type":{"inverted":false,"value":"LinkTools::LinkPathFinding::SetPropertyNextNodeAngle"},"parameters":["Object","Behavior","=","mod(AngleBetweenPositions(Object.X(), Object.Y(), Object.Behavior::PropertyNextNodeX(), Object.Behavior::PropertyNextNodeY()) + Object.Behavior::PropertyAngleOffset(), 360)"],"subInstructions":[]}],"events":[]}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Object","longDescription":"","name":"Object","optional":false,"supplementaryInformation":"","type":"object"},{"codeOnly":false,"defaultValue":"","description":"Behavior","longDescription":"","name":"Behavior","optional":false,"supplementaryInformation":"LinkTools::LinkPathFinding","type":"behavior"},{"codeOnly":false,"defaultValue":"","description":"Node index","longDescription":"","name":"Index","optional":false,"supplementaryInformation":"","type":"expression"}],"objectGroups":[]},{"description":"Check if the object is moving.","fullName":"Is moving","functionType":"Condition","group":"","name":"IsMoving","private":false,"sentence":"_PARAM0_ is moving","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"LinkTools::LinkPathFinding::PropertyisOnPath"},"parameters":["Object","Behavior"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"SetReturnBoolean"},"parameters":["True"],"subInstructions":[]}],"events":[]}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Object","longDescription":"","name":"Object","optional":false,"supplementaryInformation":"","type":"object"},{"codeOnly":false,"defaultValue":"","description":"Behavior","longDescription":"","name":"Behavior","optional":false,"supplementaryInformation":"LinkTools::LinkPathFinding","type":"behavior"}],"objectGroups":[]},{"description":"Check if a path has been found.","fullName":"Path found","functionType":"Condition","group":"","name":"PathFound","private":false,"sentence":"A path has been found for _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"Egal"},"parameters":["Object.VariableChildCount(__linktools_Path)",">","0"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"SetReturnBoolean"},"parameters":["True"],"subInstructions":[]}],"events":[]}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Object","longDescription":"","name":"Object","optional":false,"supplementaryInformation":"","type":"object"},{"codeOnly":false,"defaultValue":"","description":"Behavior","longDescription":"","name":"Behavior","optional":false,"supplementaryInformation":"LinkTools::LinkPathFinding","type":"behavior"}],"objectGroups":[]},{"description":"Check if the destination was reached.","fullName":"Destination reached","functionType":"Condition","group":"","name":"HasReachedDestination","private":false,"sentence":"_PARAM0_ reached its destination","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"LinkTools::LinkPathFinding::HasReachedNode"},"parameters":["Object","Behavior",""],"subInstructions":[]},{"type":{"inverted":false,"value":"LinkTools::LinkPathFinding::PropertyNextNodeIndex"},"parameters":["Object","Behavior","=","Object.VariableChildCount(__linktools_Path)"],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"SetReturnBoolean"},"parameters":["True"],"subInstructions":[]}],"events":[]}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Object","longDescription":"","name":"Object","optional":false,"supplementaryInformation":"","type":"object"},{"codeOnly":false,"defaultValue":"","description":"Behavior","longDescription":"","name":"Behavior","optional":false,"supplementaryInformation":"LinkTools::LinkPathFinding","type":"behavior"}],"objectGroups":[]},{"description":"Speed of the object on the path.","fullName":"Speed","functionType":"Expression","group":"","name":"Speed","private":false,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"inverted":false,"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertySpeed()"],"subInstructions":[]}],"events":[]}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Object","longDescription":"","name":"Object","optional":false,"supplementaryInformation":"","type":"object"},{"codeOnly":false,"defaultValue":"","description":"Behavior","longDescription":"","name":"Behavior","optional":false,"supplementaryInformation":"LinkTools::LinkPathFinding","type":"behavior"}],"objectGroups":[]},{"description":"Get the number of waypoints on the path.","fullName":"Node count","functionType":"Expression","group":"","name":"NodeCount","private":false,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"inverted":false,"value":"SetReturnNumber"},"parameters":["Object.VariableChildCount(__linktools_Path)"],"subInstructions":[]}],"events":[]}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Object","longDescription":"","name":"Object","optional":false,"supplementaryInformation":"","type":"object"},{"codeOnly":false,"defaultValue":"","description":"Behavior","longDescription":"","name":"Behavior","optional":false,"supplementaryInformation":"LinkTools::LinkPathFinding","type":"behavior"}],"objectGroups":[]},{"description":"Waypoint X position.","fullName":"Node X","functionType":"Expression","group":"","name":"NodeX","private":false,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"inverted":false,"value":"SetReturnNumber"},"parameters":["Object.Variable(__linktools_Path[GetArgumentAsNumber(\"NodeIndex\")][\"x\"])"],"subInstructions":[]}],"events":[]}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Object","longDescription":"","name":"Object","optional":false,"supplementaryInformation":"","type":"object"},{"codeOnly":false,"defaultValue":"","description":"Behavior","longDescription":"","name":"Behavior","optional":false,"supplementaryInformation":"LinkTools::LinkPathFinding","type":"behavior"},{"codeOnly":false,"defaultValue":"","description":"Waypoint index","longDescription":"","name":"NodeIndex","optional":false,"supplementaryInformation":"","type":"expression"}],"objectGroups":[]},{"description":"Waypoint X position.","fullName":"Node Y","functionType":"Expression","group":"","name":"NodeY","private":false,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"inverted":false,"value":"SetReturnNumber"},"parameters":["Object.Variable(__linktools_Path[GetArgumentAsNumber(\"NodeIndex\")][\"y\"])"],"subInstructions":[]}],"events":[]}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Object","longDescription":"","name":"Object","optional":false,"supplementaryInformation":"","type":"object"},{"codeOnly":false,"defaultValue":"","description":"Behavior","longDescription":"","name":"Behavior","optional":false,"supplementaryInformation":"LinkTools::LinkPathFinding","type":"behavior"},{"codeOnly":false,"defaultValue":"","description":"Waypoint index","longDescription":"","name":"NodeIndex","optional":false,"supplementaryInformation":"","type":"expression"}],"objectGroups":[]},{"description":"Next waypoint index.","fullName":"Next node index","functionType":"Expression","group":"","name":"NextNodeIndex","private":false,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"inverted":false,"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyNextNodeIndex()"],"subInstructions":[]}],"events":[]}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Object","longDescription":"","name":"Object","optional":false,"supplementaryInformation":"","type":"object"},{"codeOnly":false,"defaultValue":"","description":"Behavior","longDescription":"","name":"Behavior","optional":false,"supplementaryInformation":"LinkTools::LinkPathFinding","type":"behavior"}],"objectGroups":[]},{"description":"Next waypoint X position.","fullName":"Next node X","functionType":"Expression","group":"","name":"NextNodeX","private":false,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"inverted":false,"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyNextNodeX()"],"subInstructions":[]}],"events":[]}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Object","longDescription":"","name":"Object","optional":false,"supplementaryInformation":"","type":"object"},{"codeOnly":false,"defaultValue":"","description":"Behavior","longDescription":"","name":"Behavior","optional":false,"supplementaryInformation":"LinkTools::LinkPathFinding","type":"behavior"}],"objectGroups":[]},{"description":"Next waypoint Y position.","fullName":"Next node Y","functionType":"Expression","group":"","name":"NextNodeY","private":false,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"inverted":false,"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyNextNodeY()"],"subInstructions":[]}],"events":[]}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Object","longDescription":"","name":"Object","optional":false,"supplementaryInformation":"","type":"object"},{"codeOnly":false,"defaultValue":"","description":"Behavior","longDescription":"","name":"Behavior","optional":false,"supplementaryInformation":"LinkTools::LinkPathFinding","type":"behavior"}],"objectGroups":[]},{"description":"Destination X position.","fullName":"Destination X","functionType":"Expression","group":"","name":"DestinationX","private":false,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"inverted":false,"value":"SetReturnNumber"},"parameters":["Object.Variable(__linktools_Path[Object.VariableChildCount(__linktools_Path) - 1][\"x\"])"],"subInstructions":[]}],"events":[]}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Object","longDescription":"","name":"Object","optional":false,"supplementaryInformation":"","type":"object"},{"codeOnly":false,"defaultValue":"","description":"Behavior","longDescription":"","name":"Behavior","optional":false,"supplementaryInformation":"LinkTools::LinkPathFinding","type":"behavior"}],"objectGroups":[]},{"description":"Destination Y position.","fullName":"Destination Y","functionType":"Expression","group":"","name":"DestinationY","private":false,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"inverted":false,"value":"SetReturnNumber"},"parameters":["Object.Variable(__linktools_Path[Object.VariableChildCount(__linktools_Path) - 1][\"y\"])"],"subInstructions":[]}],"events":[]}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Object","longDescription":"","name":"Object","optional":false,"supplementaryInformation":"","type":"object"},{"codeOnly":false,"defaultValue":"","description":"Behavior","longDescription":"","name":"Behavior","optional":false,"supplementaryInformation":"LinkTools::LinkPathFinding","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"400","type":"Number","label":"Acceleration","description":"","group":"","extraInformation":[],"hidden":false,"name":"Acceleration"},{"value":"200","type":"Number","label":"Maximum Speed","description":"","group":"","extraInformation":[],"hidden":false,"name":"SpeedMax"},{"value":"true","type":"Boolean","label":"Rotate object","description":"","group":"","extraInformation":[],"hidden":false,"name":"Rotate"},{"value":"180","type":"Number","label":"Rotation speed","description":"","group":"","extraInformation":[],"hidden":false,"name":"RotationSpeed"},{"value":"0","type":"Number","label":"Angle offset","description":"","group":"","extraInformation":[],"hidden":false,"name":"AngleOffset"},{"value":"","type":"Boolean","label":"Is following a path","description":"","group":"","extraInformation":[],"hidden":true,"name":"isOnPath"},{"value":"","type":"Number","label":"Next node index","description":"","group":"","extraInformation":[],"hidden":true,"name":"NextNodeIndex"},{"value":"","type":"Number","label":"Next node X","description":"","group":"","extraInformation":[],"hidden":true,"name":"NextNodeX"},{"value":"","type":"Number","label":"Next node Y","description":"","group":"","extraInformation":[],"hidden":true,"name":"NextNodeY"},{"value":"","type":"Number","label":"Speed","description":"","group":"","extraInformation":[],"hidden":true,"name":"Speed"},{"value":"","type":"Boolean","label":"Is at a node","description":"","group":"","extraInformation":[],"hidden":true,"name":"IsAtNode"},{"value":"","type":"Number","label":"Next node angle","description":"","group":"","extraInformation":[],"hidden":true,"name":"NextNodeAngle"}]}]},{"author":"D8H","category":"","description":"This extension can be useful for:\n* Stick an accessory to a moving object,\n* Animate a skeleton.","extensionNamespace":"","fullName":"Stick objects to others","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLXN0aWNrZXItb3V0bGluZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik01LjUgMkMzLjYgMiAyIDMuNiAyIDUuNVYxOC41QzIgMjAuNCAzLjYgMjIgNS41IDIySDE2TDIyIDE2VjUuNUMyMiAzLjYgMjAuNCAyIDE4LjUgMkg1LjVNNS44IDRIMTguM0MxOS4zIDQgMjAuMSA0LjggMjAuMSA1LjhWMTVIMTguNkMxNi43IDE1IDE1LjEgMTYuNiAxNS4xIDE4LjVWMjBINS44QzQuOCAyMCA0IDE5LjIgNCAxOC4yVjUuOEM0IDQuOCA0LjggNCA1LjggNCIgLz48L3N2Zz4=","name":"Sticker","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/sticker-outline.svg","shortDescription":"Behavior to stick objects to other objects - so that they follow the position and rotation of the object they are stuck to.","version":"0.3.4","origin":{"identifier":"Sticker","name":"gdevelop-extension-store"},"tags":["sticker","stick","follow","skeleton","joint"],"authorIds":["IWykYNRvhCZBN3vEgKEbBPOR3Oc2"],"dependencies":[],"eventsFunctions":[{"description":"Check if the object is stuck to another object.","fullName":"Is stuck to another object","functionType":"Condition","group":"","name":"IsStuck","private":false,"sentence":"_PARAM1_ is stuck to _PARAM3_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"const stickerBehaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");\n/** @type {Hashtable<gdjs.RuntimeObject[]>} */\nconst stickerObjectsLists = eventsFunctionContext.getObjectsLists(\"Object\");\n/** @type {Hashtable<gdjs.RuntimeObject[]>} */\nconst basisObjectsLists = eventsFunctionContext.getObjectsLists(\"BasisObject\");\n\neventsFunctionContext.returnValue = gdjs.evtTools.object.twoListsTest(\n  (stickerObject, basisObject, stickerBehaviorName) => {\n    const behavior = stickerObject.getBehavior(stickerBehaviorName);\n    return behavior.basisObject === basisObject;\n  },\n  stickerObjectsLists,\n  basisObjectsLists,\n  false,\n  stickerBehaviorName\n);","parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Sticker","longDescription":"","name":"Object","optional":false,"supplementaryInformation":"","type":"objectList"},{"codeOnly":false,"defaultValue":"","description":"Sticker behavior","longDescription":"","name":"Behavior","optional":false,"supplementaryInformation":"Sticker::Sticker","type":"behavior"},{"codeOnly":false,"defaultValue":"","description":"Basis","longDescription":"","name":"BasisObject","optional":false,"supplementaryInformation":"","type":"objectList"}],"objectGroups":[]}],"eventsBasedBehaviors":[{"description":"Stick the object to another. Use the action to stick the object, or unstick it later.","fullName":"Sticker","name":"Sticker","objectType":"","eventsFunctions":[{"description":"","fullName":"","functionType":"Action","group":"","name":"onCreated","private":false,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");\nconst object = objects[0];\nconst behavior = object.getBehavior(behaviorName);\n\n// Set up the scene sticker objects list - if not done already.\nif (!runtimeScene.__allStickers)\n    runtimeScene.__allStickers = new Set();\n\n// Set up the behavior extra methods - if not done already.\nconst prototype = Object.getPrototypeOf(behavior);\nif (!prototype.updateRelativeCoordinates) {\n    // Unstick from deleted objects.\n    gdjs.registerObjectDeletedFromSceneCallback(function (runtimeScene, deletedObject) {\n        if (!runtimeScene.__allStickers) return;\n\n        for (const sticker of runtimeScene.__allStickers) {\n            if (sticker.basisObject === deletedObject) {\n                sticker.basisObject = null;\n            }\n        }\n    });\n\n    /**\n     * Update the coordinates in the basisObject basis.\n     * \n     * It uses the basisObject coordinates from the previous frame.\n     * This way, the sticker can move relatively to it and still\n     * follow basisObject.\n     * \n     * @param {gdjs.RuntimeObject} basisObject\n     */\n    prototype.updateRelativeCoordinates = function (basisObject) {\n        const object = this.owner;\n\n        // Update relative coordinates\n        this.relativeX = object.getX() - this.basisOldX;\n        this.relativeY = object.getY() - this.basisOldY;\n        if (!this._getOnlyFollowPosition()) {\n            this.relativeAngle = object.getAngle() - this.basisOldAngle;\n            this.relativeWidth = object.getWidth() / this.basisOldWidth;\n            this.relativeHeight = object.getHeight() / this.basisOldHeight;\n            const deltaX = object.getCenterXInScene() - this.basisOldCenterXInScene;\n            const deltaY = object.getCenterYInScene() - this.basisOldCenterYInScene;\n            const angle = this.basisOldAngle * Math.PI / 180;\n            this.relativeRotatedX = (deltaX * Math.cos(angle) + deltaY * Math.sin(angle)) / this.basisOldWidth;\n            this.relativeRotatedY = (-deltaX * Math.sin(angle) + deltaY * Math.cos(angle)) / this.basisOldHeight;\n\n            // Save initial values to avoid calculus and rounding errors\n            this.basisOriginalWidth = basisObject.getWidth();\n            this.basisOriginalHeight = basisObject.getHeight();\n            this.basisOriginalAngle = basisObject.getAngle();\n        }\n    }\n\n    /**\n     * Copy the coordinates to use it the next frame.\n     * @param basisObject {gdjs.RuntimeObject}\n     */\n    prototype.updateOldCoordinates = function (basisObject) {\n        const object = this.owner;\n\n        this.ownerOldX = object.getX();\n        this.ownerOldY = object.getY();\n\n        this.basisOldX = basisObject.getX();\n        this.basisOldY = basisObject.getY();\n\n        if (!this._getOnlyFollowPosition()) {\n            this.ownerOldAngle = object.getAngle();\n            this.ownerOldWidth = object.getWidth();\n            this.ownerOldHeight = object.getHeight();\n\n            this.basisOldAngle = basisObject.getAngle();\n            this.basisOldWidth = basisObject.getWidth();\n            this.basisOldHeight = basisObject.getHeight();\n            this.basisOldCenterXInScene = basisObject.getCenterXInScene();\n            this.basisOldCenterYInScene = basisObject.getCenterYInScene();\n        }\n    }\n    /**\n     * Follow the basisObject (called in doStepPostEvents).\n     * \n     * This method is also called by children to ensure\n     * parents are updated first.\n     */\n    prototype.followBasisObject = function () {\n        if (this.followingDoneThisFrame) {\n            return;\n        }\n        this.followingDoneThisFrame = true;\n        /** @type {gdjs.RuntimeObject} */\n        const basisObject = this.basisObject;\n        if (basisObject) {\n            // If the behavior on the basis object has a different name,\n            // the objects will still follow their basis objects\n            // but frame delays could happen.\n            if (basisObject.hasBehavior(behaviorName)) {\n                const basisBehavior = basisObject.getBehavior(behaviorName);\n                if (basisBehavior.type === this.type) {\n                    // Follow parents 1st to avoid frame delays\n                    basisBehavior.followBasisObject();\n                }\n            }\n\n            const object = this.owner;\n\n            if (this._getOnlyFollowPosition()) {\n                if (object.getX() !== this.ownerOldX\n                    || object.getY() !== this.ownerOldY) {\n                    this.updateRelativeCoordinates(basisObject);\n                }\n\n                if (this.basisOldX !== basisObject.getX() ||\n                    this.basisOldY !== basisObject.getY()) {\n                    object.setPosition(\n                        basisObject.getX() + this.relativeX,\n                        basisObject.getY() + this.relativeY);\n                }\n            } else {\n                if (object.getX() !== this.ownerOldX\n                    || object.getY() !== this.ownerOldY\n                    || object.getAngle() !== this.ownerOldAngle\n                    || object.getWidth() !== this.ownerOldWidth\n                    || object.getHeight() !== this.ownerOldHeight) {\n                    this.updateRelativeCoordinates(basisObject);\n                }\n\n                // Follow basisObject\n                if (basisObject.getAngle() === this.basisOriginalAngle && this.basisOriginalAngle === 0) {\n                    if (basisObject.getWidth() === this.basisOriginalWidth ||\n                        basisObject.getHeight() === this.basisOriginalHeight) {\n                        if (this.basisOldX !== basisObject.getX() ||\n                            this.basisOldY !== basisObject.getY()) {\n                            object.setPosition(\n                                basisObject.getX() + this.relativeX,\n                                basisObject.getY() + this.relativeY);\n                        }\n                    } else {\n                        object.setPosition(\n                            basisObject.getX() + this.relativeRotatedX * basisObject.getWidth(),\n                            basisObject.getY() + this.relativeRotatedY * basisObject.getHeight());\n                    }\n                } else {\n                    object.setAngle(basisObject.getAngle() + this.relativeAngle);\n\n                    const deltaX = this.relativeRotatedX * basisObject.getWidth();\n                    const deltaY = this.relativeRotatedY * basisObject.getHeight();\n                    const angle = -basisObject.getAngle() * Math.PI / 180;\n                    object.setX(basisObject.getCenterXInScene() + object.getX() - object.getCenterXInScene() + deltaX * Math.cos(angle) + deltaY * Math.sin(angle));\n                    object.setY(basisObject.getCenterYInScene() + object.getY() - object.getCenterYInScene() - deltaX * Math.sin(angle) + deltaY * Math.cos(angle));\n                }\n                // Unproportional dimensions changes won't work as expected\n                // if the object angle is not null but nothing more can be done\n                // because there is no full affine transformation on objects.\n                if (basisObject.getWidth() !== this.basisOriginalWidth) {\n                    object.setWidth(this.relativeWidth * basisObject.getWidth());\n                }\n                if (basisObject.getHeight() !== this.basisOriginalHeight) {\n                    object.setHeight(this.relativeHeight * basisObject.getHeight());\n                }\n            }\n\n            this.updateOldCoordinates(basisObject);\n        }\n    }\n}\n\n// Register this object as a sticker.\nruntimeScene.__allStickers.add(behavior);\n","parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Object","longDescription":"","name":"Object","optional":false,"supplementaryInformation":"","type":"object"},{"codeOnly":false,"defaultValue":"","description":"Behavior","longDescription":"","name":"Behavior","optional":false,"supplementaryInformation":"Sticker::Sticker","type":"behavior"}],"objectGroups":[]},{"description":"","fullName":"","functionType":"Action","group":"","name":"doStepPreEvents","private":false,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");\nconst object = objects[0];\nconst behavior = object.getBehavior(behaviorName);\n\nbehavior.followingDoneThisFrame = false;","parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Object","longDescription":"","name":"Object","optional":false,"supplementaryInformation":"","type":"object"},{"codeOnly":false,"defaultValue":"","description":"Behavior","longDescription":"","name":"Behavior","optional":false,"supplementaryInformation":"Sticker::Sticker","type":"behavior"}],"objectGroups":[]},{"description":"","fullName":"","functionType":"Action","group":"","name":"doStepPostEvents","private":false,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");\nconst object = objects[0];\nconst behavior = object.getBehavior(behaviorName);\n\nbehavior.followBasisObject();","parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Object","longDescription":"","name":"Object","optional":false,"supplementaryInformation":"","type":"object"},{"codeOnly":false,"defaultValue":"","description":"Behavior","longDescription":"","name":"Behavior","optional":false,"supplementaryInformation":"Sticker::Sticker","type":"behavior"}],"objectGroups":[]},{"description":"Stick on another object.","fullName":"Stick","functionType":"Action","group":"","name":"Stick","private":false,"sentence":"Stick _PARAM0_ to _PARAM2_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"const object = objects[0];\nconst behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");\nconst basisObjects = eventsFunctionContext.getObjects(\"BasisObject\");\n\nif (basisObjects.length === 0) return;\nconst basisObject = basisObjects[0];\n\nconst behavior = object.getBehavior(behaviorName);\n\nbehavior.basisObject = basisObject;\nbehavior.updateOldCoordinates(basisObject);\nbehavior.updateRelativeCoordinates(basisObject);\n","parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Object","longDescription":"","name":"Object","optional":false,"supplementaryInformation":"","type":"object"},{"codeOnly":false,"defaultValue":"","description":"Behavior","longDescription":"","name":"Behavior","optional":false,"supplementaryInformation":"Sticker::Sticker","type":"behavior"},{"codeOnly":false,"defaultValue":"","description":"Object to stick to","longDescription":"","name":"BasisObject","optional":false,"supplementaryInformation":"","type":"objectList"}],"objectGroups":[]},{"description":"Unstick from the object it was stuck to.","fullName":"Unstick","functionType":"Action","group":"","name":"Unstick","private":false,"sentence":"Unstick _PARAM0_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"const object = objects[0];\nconst behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");\nconst behavior = object.getBehavior(behaviorName);\n\nbehavior.basisObject = null;","parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Object","longDescription":"","name":"Object","optional":false,"supplementaryInformation":"","type":"object"},{"codeOnly":false,"defaultValue":"","description":"Behavior","longDescription":"","name":"Behavior","optional":false,"supplementaryInformation":"Sticker::Sticker","type":"behavior"}],"objectGroups":[]},{"description":"","fullName":"","functionType":"Action","group":"","name":"onDestroy","private":false,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");\nconst object = objects[0];\nconst behavior = object.getBehavior(behaviorName);\n\nif (runtimeScene.__allStickers)\n    runtimeScene.__allStickers.delete(behavior);\n","parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Object","longDescription":"","name":"Object","optional":false,"supplementaryInformation":"","type":"object"},{"codeOnly":false,"defaultValue":"","description":"Behavior","longDescription":"","name":"Behavior","optional":false,"supplementaryInformation":"Sticker::Sticker","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"","type":"Boolean","label":"Only follow the position","description":"","group":"","extraInformation":[],"hidden":false,"name":"OnlyFollowPosition"}]}]},{"author":"@4ian","category":"","description":"Force the object to stay visible on the screen by setting back its position inside the viewport of the camera.","extensionNamespace":"","fullName":"Stay On Screen","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLW1vbml0b3Itc2NyZWVuc2hvdCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik05LDZINVYxMEg3VjhIOU0xOSwxMEgxN1YxMkgxNVYxNEgxOU0yMSwxNkgzVjRIMjFNMjEsMkgzQzEuODksMiAxLDIuODkgMSw0VjE2QTIsMiAwIDAsMCAzLDE4SDEwVjIwSDhWMjJIMTZWMjBIMTRWMThIMjFBMiwyIDAgMCwwIDIzLDE2VjRDMjMsMi44OSAyMi4xLDIgMjEsMiIgLz48L3N2Zz4=","name":"StayOnScreen","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/monitor-screenshot.svg","shortDescription":"Force the object to stay visible on the screen by setting back its position inside the viewport of the camera.","version":"0.0.2","origin":{"identifier":"StayOnScreen","name":"gdevelop-extension-store"},"tags":["positioning","camera","screen"],"authorIds":["wWP8BSlAW0UP4NeaHa2LcmmDzmH2","2OwwM8ToR9dx9RJ2sAKTcrLmCB92"],"dependencies":[],"eventsFunctions":[],"eventsBasedBehaviors":[{"description":"Force the object to stay visible on the screen by setting back its position inside the viewport of the camera.","fullName":"Stay on Screen","name":"StayOnScreen","objectType":"","eventsFunctions":[{"description":"","fullName":"","functionType":"Action","group":"","name":"doStepPostEvents","private":false,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"inverted":false,"value":"MettreX"},"parameters":["Object","=","min(max(Object.X(), CameraX(Object.Layer(), 0) - CameraWidth(Object.Layer(), 0)/2 + Object.Behavior::PropertyMarginLeft()), CameraX(Object.Layer(), 0) + CameraWidth(Object.Layer(), 0)/2 - Object.Width() - Object.Behavior::PropertyMarginRight())"],"subInstructions":[]},{"type":{"inverted":false,"value":"MettreY"},"parameters":["Object","=","min(max(Object.Y(), CameraY(Object.Layer(), 0) - CameraHeight(Object.Layer(), 0)/2+ Object.Behavior::PropertyMarginTop()), CameraY(Object.Layer(), 0) + CameraHeight(Object.Layer(), 0)/2 - Object.Height() - Object.Behavior::PropertyMarginBottom())"],"subInstructions":[]}],"events":[]}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Object","longDescription":"","name":"Object","optional":false,"supplementaryInformation":"","type":"object"},{"codeOnly":false,"defaultValue":"","description":"Behavior","longDescription":"","name":"Behavior","optional":false,"supplementaryInformation":"StayOnScreen::StayOnScreen","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"0","type":"Number","label":"Top margin, in pixels","description":"","group":"","extraInformation":[],"hidden":false,"name":"MarginTop"},{"value":"0","type":"Number","label":"Bottom margin, in pixels","description":"","group":"","extraInformation":[],"hidden":false,"name":"MarginBottom"},{"value":"0","type":"Number","label":"Left margin, in pixels","description":"","group":"","extraInformation":[],"hidden":false,"name":"MarginLeft"},{"value":"0","type":"Number","label":"Right margin, in pixels","description":"","group":"","extraInformation":[],"hidden":false,"name":"MarginRight"}]}]}],"externalLayouts":[],"externalSourceFiles":[]}